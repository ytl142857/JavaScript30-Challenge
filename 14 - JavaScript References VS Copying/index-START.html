<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JS Reference VS Copy</title>
</head>
<body>

  <script>
    // start with strings, numbers and booleans
    console.log("1. Copy test")
    // 1. Number
    let age1 = 100;
    let age2 = age1;
    console.log(age1, age2);

    age1 = 200;
    age2 = 300;
    console.log(age1, age2);

    // 2. String
    let name1 = "name1";
    let name2 = name1;

    console.log(name1, name2);

    name1 = "name1.1";
    name2 = "name2.1";
    console.log(name1, name2);
    // Let's say we have an array
    console.log("2. Array Test:")
    const players = ['Wes', 'Sarah', 'Ryan', 'Poppy'];

    // 浅拷贝
    const team = players;

    console.log(`players: ${players}`, `team:${team}`);
    // You might think we can just do something like this:
    team[3] = "Lux";
    // however what happens when we update that array?
    console.log(`players: ${players}`, `team:${team}`);


    // 深拷贝
    const team2 = players.slice()
    team[3] = "hahaha"
    console.log(`players: ${players}`, `team2:${team2}`);
    // one way

    const team3 = [].concat(players);
    const team4 = [...players];
    const team5 = Array.from(players);

    // with Objects
    const person = {
      name: 'Wes Bos',
      age: 80
    };

    // 浅拷贝，
    console.log(`person:${JSON.stringify(person)}`);
    const captain = person;
    captain.number = 99;
    console.log(`person:${JSON.stringify(person)}`);
    console.log(`captain:${JSON.stringify(captain)}`);

    const cap2 = Object.assign({}, person, {
      number: 99,
      age: 12
    });
    console.log(`cap2:${JSON.stringify(cap2)}`);
    console.log(`person:${JSON.stringify(person)}`);

    const wes = {
      name: 'Wes',
      age: 100,
      social: {
        twitter: '@wesbos',
        facebook: 'wesbos.developer'
      }
    };

    console.log(wes);

    const dev = Object.assign({}, wes);

    const dev2 = JSON.parse(JSON.stringify(wes));
  </script>

</body>
</html>
